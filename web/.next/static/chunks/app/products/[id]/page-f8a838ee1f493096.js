(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{2601:function(e,t,r){"use strict";var s,a;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(8960)},5986:function(e,t,r){Promise.resolve().then(r.bind(r,7621))},7621:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r(7437),a=r(2265),n=r(1396),l=r.n(n),i=r(4033),o=r(826),c=r(2247),d=r(7009);function u(){var e;let t=(0,i.useParams)().id,[r,n]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[m,x]=(0,a.useState)(null),[g,f]=(0,a.useState)(""),[p,v]=(0,a.useState)(1),[b,y]=(0,a.useState)(!0),[j,N]=(0,a.useState)([]),{showToast:w}=(0,d.p)();if((0,a.useEffect)(()=>{t&&o.x.getProduct(t).then(e=>{if(e.data){var r,s,a,l;n(e.data.product);let i=e.data.variants||[];h(i),i.length>0&&(x(i[0]),f((null===(l=i[0])||void 0===l?void 0:null===(a=l.images)||void 0===a?void 0:a[0])||"")),y(!1);let c=null===(s=e.data.product)||void 0===s?void 0:null===(r=s.categoryId)||void 0===r?void 0:r._id;c&&o.x.getProducts({categoryId:c,limit:4}).then(e=>{var r;(null===(r=e.data)||void 0===r?void 0:r.products)&&N(e.data.products.filter(e=>e._id!==t))})}})},[t]),b)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-xl",children:"Loading product..."})});if(!r)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Product not found"}),(0,s.jsx)(l(),{href:"/products",className:"text-primary hover:underline",children:"â† Back to Products"})]})});let k=u.flatMap(e=>e.images||[]).filter(Boolean),T=k.length>0?k:[""];return(0,s.jsx)("main",{className:"min-h-screen bg-gray-50 py-8 lg:py-12",children:(0,s.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)(c.Z,{items:[{label:"Home",href:"/"},{label:(null===(e=r.categoryId)||void 0===e?void 0:e.name)||"Products",href:"/products"},{label:r.name}]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 aspect-square overflow-hidden",children:g?(0,s.jsx)("img",{src:g,alt:r.name,className:"w-full h-full object-cover rounded-lg"}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-32 h-32 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),T.length>1&&(0,s.jsx)("div",{className:"grid grid-cols-4 gap-4",children:T.slice(0,4).map((e,t)=>(0,s.jsx)("button",{onClick:()=>f(e),className:"aspect-square rounded-lg overflow-hidden border-2 transition-all ".concat(g===e?"border-primary shadow-md":"border-gray-200 hover:border-gray-300"),children:e?(0,s.jsx)("img",{src:e,alt:"".concat(r.name," ").concat(t+1),className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-100"})},t))})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[r.categoryId&&(0,s.jsx)("span",{className:"inline-block px-3 py-1 bg-secondary/20 text-secondary-dark rounded-full text-sm font-medium mb-4",children:r.categoryId.name}),(0,s.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:r.name}),r.brand&&(0,s.jsxs)("p",{className:"text-lg text-gray-600 mb-6",children:["Brand: ",r.brand]})]}),m&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-4 mb-6",children:[(0,s.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:["PKR ",m.price]}),void 0!==m.available&&(0,s.jsx)("span",{className:"text-sm font-medium ".concat(m.available>0?"text-green-600":"text-red-600"),children:m.available>0?"".concat(m.available," in stock"):"Out of stock"})]}),u.length>1&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Option:"}),(0,s.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,s.jsx)("button",{onClick:()=>{var t;x(e),(null===(t=e.images)||void 0===t?void 0:t[0])&&f(e.images[0])},disabled:0===(e.available||0),className:"w-full text-left p-4 rounded-lg border-2 transition-all ".concat((null==m?void 0:m._id)===e._id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"," ").concat(0===(e.available||0)?"opacity-50 cursor-not-allowed":""),children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold",children:["SKU: ",e.sku]}),Object.keys(e.attributes||{}).length>0&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:Object.entries(e.attributes).map(e=>{let[t,r]=e;return"".concat(t,": ").concat(r)}).join(", ")})]}),(0,s.jsxs)("span",{className:"font-bold",children:["PKR ",e.price]})]})},e._id))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Quantity:"}),(0,s.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg w-fit",children:[(0,s.jsx)("button",{onClick:()=>v(Math.max(1,p-1)),className:"px-4 py-2 hover:bg-gray-100 transition-colors",children:"-"}),(0,s.jsx)("span",{className:"px-6 py-2 min-w-[4rem] text-center font-semibold",children:p}),(0,s.jsx)("button",{onClick:()=>v(Math.min(m.available||99,p+1)),className:"px-4 py-2 hover:bg-gray-100 transition-colors",children:"+"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!m||!r)return;let e=JSON.parse(localStorage.getItem("cart")||"[]"),t={id:"".concat(r._id,"-").concat(m._id),productId:r._id,variantId:m._id,name:r.name,price:"PKR ".concat(m.price),image:g,quantity:p,variant:m},s=e.findIndex(e=>e.id===t.id);s>=0?e[s].quantity+=p:e.push(t),localStorage.setItem("cart",JSON.stringify(e)),window.dispatchEvent(new Event("cartUpdated")),w("Added to cart!","success")},disabled:0===(m.available||0),className:"w-full py-4 rounded-lg font-semibold text-lg transition-all ".concat(0===(m.available||0)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-primary hover:scale-105 shadow-lg"),children:0===(m.available||0)?"Out of Stock":"Add to Cart"})]}),r.description&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Product Description"}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:r.description})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Product Features"}),(0,s.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Premium Quality Materials"]}),(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Fast & Secure Shipping"]}),(0,s.jsxs)("li",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"30-Day Return Policy"]})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-12 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),(0,s.jsx)("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Write a review"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{className:"w-full border rounded px-3 py-2 text-sm",placeholder:"Your name"}),(0,s.jsx)("textarea",{className:"w-full border rounded px-3 py-2 text-sm",rows:4,placeholder:"Your review"}),(0,s.jsx)("button",{className:"w-full bg-gray-900 text-white py-2.5 rounded-lg font-semibold hover:bg-primary transition",children:"Submit review"})]})]})]}),j.length>0&&(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"You may also like"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:j.slice(0,4).map(e=>{var t,r,a,n;let i=(null===(t=e.variants)||void 0===t?void 0:t.length)?Math.min(...e.variants.map(e=>e.price)):0,o=(null===(n=e.variants)||void 0===n?void 0:null===(a=n[0])||void 0===a?void 0:null===(r=a.images)||void 0===r?void 0:r[0])||"";return(0,s.jsxs)(l(),{href:"/products/".concat(e._id),className:"block bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition",children:[(0,s.jsx)("div",{className:"aspect-square bg-gray-100",children:o?(0,s.jsx)("img",{src:o,alt:e.name,className:"w-full h-full object-cover"}):null}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("div",{className:"text-sm font-semibold line-clamp-2 min-h-[2.25rem]",children:e.name}),(0,s.jsx)("div",{className:"mt-2 text-gray-900 font-bold",children:i>0?"From PKR ".concat(i):"Price on request"})]})]},e._id)})})]})]})})}},2247:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437),a=r(1396),n=r.n(a);function l(e){let{items:t}=e;return t&&0!==t.length?(0,s.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-6",children:(0,s.jsx)("ol",{className:"flex items-center text-sm text-gray-600 flex-wrap gap-1",children:t.map((e,r)=>{let a=r===t.length-1;return(0,s.jsxs)("li",{className:"flex items-center",children:[e.href&&!a?(0,s.jsx)(n(),{href:e.href,className:"hover:text-gray-900",children:e.label}):(0,s.jsx)("span",{className:"text-gray-900 font-medium",children:e.label}),!a&&(0,s.jsx)("span",{className:"mx-2 text-gray-400",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},"".concat(e.label,"-").concat(r))})})}):null}},4804:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437),a=r(2265);function n(e){let{message:t,type:r="info",isVisible:n,onClose:l,duration:i=3e3}=e;if((0,a.useEffect)(()=>{if(n&&i>0){let e=setTimeout(()=>{l()},i);return()=>clearTimeout(e)}},[n,i,l]),!n)return null;let o={success:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};return(0,s.jsxs)("div",{className:"\n        fixed top-4 right-4 z-50\n        flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border\n        animate-fadeIn transform transition-all\n        ".concat({success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[r],"\n      "),children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:o[r]}),(0,s.jsx)("p",{className:"flex-1 font-medium",children:t}),(0,s.jsx)("button",{onClick:l,className:"flex-shrink-0 text-current opacity-70 hover:opacity-100 transition-opacity","aria-label":"Close notification",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}},7009:function(e,t,r){"use strict";r.d(t,{V:function(){return o},p:function(){return i}});var s=r(7437),a=r(2265),n=r(4804);let l=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(l);if(!e)throw Error("useToast must be used within ToastProvider");return e}function o(e){let{children:t}=e,[r,i]=(0,a.useState)([]),o=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=Math.random().toString(36).substr(2,9);i(s=>[...s,{id:r,message:e,type:t}])},[]),c=(0,a.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsxs)(l.Provider,{value:{showToast:o},children:[t,(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:r.map(e=>(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(n.Z,{message:e.message,type:e.type,isVisible:!0,onClose:()=>c(e.id)})},e.id))})]})}},826:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});let s=r(2601).env.NEXT_PUBLIC_API_URL||"https://stationary-server-alpha.vercel.app/api";class a{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseUrl).concat(e),s={"Content-Type":"application/json",...t.headers};this.token&&(s.Authorization="Bearer ".concat(this.token));try{let e=await fetch(r,{...t,headers:s}),a=await e.json();if(!e.ok)return{error:a.error||"Request failed"};return{data:a}}catch(e){return{error:e instanceof Error?e.message:"Network error"}}}async login(e,t){let r=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return r.data&&(localStorage.setItem("accessToken",r.data.accessToken),localStorage.setItem("refreshToken",r.data.refreshToken),this.token=r.data.accessToken),r}async register(e,t,r){let s=await this.request("/auth/register",{method:"POST",body:JSON.stringify({name:e,email:t,password:r})});return s.data&&(localStorage.setItem("accessToken",s.data.accessToken),localStorage.setItem("refreshToken",s.data.refreshToken),this.token=s.data.accessToken),s}logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),this.token=null}async getProducts(e){let t=new URLSearchParams;(null==e?void 0:e.categoryId)&&t.append("categoryId",e.categoryId),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());let r=t.toString();return this.request("/products".concat(r?"?".concat(r):""))}async getProduct(e){return this.request("/products/".concat(e))}async getCategories(e){return this.request("/categories".concat(e?"?parentId=".concat(e):""))}async createOrder(e){return this.request("/orders",{method:"POST",body:JSON.stringify(e)})}async getOrders(){return this.request("/orders")}async getOrder(e){return this.request("/orders/".concat(e))}async getAddresses(){return this.request("/users/addresses")}async createAddress(e){return this.request("/users/addresses",{method:"POST",body:JSON.stringify(e)})}constructor(e){this.token=null,this.baseUrl=e,this.token=localStorage.getItem("accessToken")}}let n=new a(s)},8960:function(e){!function(){var t={229:function(e){var t,r,s,a=e.exports={};function n(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var o=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?o=s.concat(o):d=-1,o.length&&h())}function h(){if(!c){var e=i(u);c=!0;for(var t=o.length;t;){for(s=o,o=[];++d<t;)s&&s[d].run();d=-1,t=o.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function x(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new m(e,t)),1!==o.length||c||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=x,a.addListener=x,a.once=x,a.off=x,a.removeListener=x,a.removeAllListeners=x,a.emit=x,a.prependListener=x,a.prependOnceListener=x,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function s(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}},l=!0;try{t[e](n,n.exports,s),l=!1}finally{l&&delete r[e]}return n.exports}s.ab="//";var a=s(229);e.exports=a}()},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[176,971,938,744],function(){return e(e.s=5986)}),_N_E=e.O()}]);