(()=>{var e={};e.id=351,e.ids=[351],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1937:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c});var r=t(482),a=t(9108),l=t(2563),i=t.n(l),n=t(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1297)),"D:\\Projects\\gbs\\apps\\web\\app\\products\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9992)),"D:\\Projects\\gbs\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\Projects\\gbs\\apps\\web\\app\\products\\[id]\\page.tsx"],m="/products/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/products/[id]/page",pathname:"/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},705:(e,s,t)=>{Promise.resolve().then(t.bind(t,1872))},1872:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(5344),a=t(3729),l=t(783),i=t.n(l),n=t(2254),d=t(8117),c=t(2628),o=t(7361);function m(){let e=(0,n.useParams)().id,[s,t]=(0,a.useState)(null),[l,m]=(0,a.useState)([]),[x,u]=(0,a.useState)(null),[h,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(1),[y,j]=(0,a.useState)(!0),[f,v]=(0,a.useState)([]),{showToast:N}=(0,o.p)();if((0,a.useEffect)(()=>{e&&d.x.getProduct(e).then(s=>{if(s.data){t(s.data.product);let r=s.data.variants||[];m(r),r.length>0&&(u(r[0]),p(r[0]?.images?.[0]||"")),j(!1);let a=s.data.product?.categoryId?._id;a&&d.x.getProducts({categoryId:a,limit:4}).then(s=>{s.data?.products&&v(s.data.products.filter(s=>s._id!==e))})}})},[e]),y)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-xl",children:"Loading product..."})});if(!s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product not found"}),r.jsx(i(),{href:"/products",className:"text-primary hover:underline",children:"â† Back to Products"})]})});let w=l.flatMap(e=>e.images||[]).filter(Boolean),P=w.length>0?w:[""];return r.jsx("main",{className:"min-h-screen bg-gray-50 py-8 lg:py-12",children:(0,r.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[r.jsx(c.Z,{items:[{label:"Home",href:"/"},{label:s.categoryId?.name||"Products",href:"/products"},{label:s.name}]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 aspect-square overflow-hidden",children:h?r.jsx("img",{src:h,alt:s.name,className:"w-full h-full object-cover rounded-lg"}):r.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-32 h-32 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),P.length>1&&r.jsx("div",{className:"grid grid-cols-4 gap-4",children:P.slice(0,4).map((e,t)=>r.jsx("button",{onClick:()=>p(e),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${h===e?"border-primary shadow-md":"border-gray-200 hover:border-gray-300"}`,children:e?r.jsx("img",{src:e,alt:`${s.name} ${t+1}`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-100"})},t))})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[s.categoryId&&r.jsx("span",{className:"inline-block px-3 py-1 bg-secondary/20 text-secondary-dark rounded-full text-sm font-medium mb-4",children:s.categoryId.name}),r.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:s.name}),s.brand&&(0,r.jsxs)("p",{className:"text-lg text-gray-600 mb-6",children:["Brand: ",s.brand]})]}),x&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-4 mb-6",children:[(0,r.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:["PKR ",x.price]}),void 0!==x.available&&r.jsx("span",{className:`text-sm font-medium ${x.available>0?"text-green-600":"text-red-600"}`,children:x.available>0?`${x.available} in stock`:"Out of stock"})]}),l.length>1&&(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Option:"}),r.jsx("div",{className:"space-y-3",children:l.map(e=>r.jsx("button",{onClick:()=>{u(e),e.images?.[0]&&p(e.images[0])},disabled:0===(e.available||0),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${x?._id===e._id?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"} ${0===(e.available||0)?"opacity-50 cursor-not-allowed":""}`,children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-semibold",children:["SKU: ",e.sku]}),Object.keys(e.attributes||{}).length>0&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Object.entries(e.attributes).map(([e,s])=>`${e}: ${s}`).join(", ")})]}),(0,r.jsxs)("span",{className:"font-bold",children:["PKR ",e.price]})]})},e._id))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Quantity:"}),(0,r.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg w-fit",children:[r.jsx("button",{onClick:()=>b(Math.max(1,g-1)),className:"px-4 py-2 hover:bg-gray-100 transition-colors",children:"-"}),r.jsx("span",{className:"px-6 py-2 min-w-[4rem] text-center font-semibold",children:g}),r.jsx("button",{onClick:()=>b(Math.min(x.available||99,g+1)),className:"px-4 py-2 hover:bg-gray-100 transition-colors",children:"+"})]})]}),r.jsx("button",{onClick:()=>{if(!x||!s)return;let e=JSON.parse(localStorage.getItem("cart")||"[]"),t={id:`${s._id}-${x._id}`,productId:s._id,variantId:x._id,name:s.name,price:`PKR ${x.price}`,image:h,quantity:g,variant:x},r=e.findIndex(e=>e.id===t.id);r>=0?e[r].quantity+=g:e.push(t),localStorage.setItem("cart",JSON.stringify(e)),window.dispatchEvent(new Event("cartUpdated")),N("Added to cart!","success")},disabled:0===(x.available||0),className:`w-full py-4 rounded-lg font-semibold text-lg transition-all ${0===(x.available||0)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-900 text-white hover:bg-primary hover:scale-105 shadow-lg"}`,children:0===(x.available||0)?"Out of Stock":"Add to Cart"})]}),s.description&&(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Product Description"}),r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:s.description})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Product Features"}),(0,r.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,r.jsxs)("li",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Premium Quality Materials"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Fast & Secure Shipping"]}),(0,r.jsxs)("li",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"30-Day Return Policy"]})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-12 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),r.jsx("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product."})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Write a review"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("input",{className:"w-full border rounded px-3 py-2 text-sm",placeholder:"Your name"}),r.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm",rows:4,placeholder:"Your review"}),r.jsx("button",{className:"w-full bg-gray-900 text-white py-2.5 rounded-lg font-semibold hover:bg-primary transition",children:"Submit review"})]})]})]}),f.length>0&&(0,r.jsxs)("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"You may also like"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.slice(0,4).map(e=>{let s=e.variants?.length?Math.min(...e.variants.map(e=>e.price)):0,t=e.variants?.[0]?.images?.[0]||"";return(0,r.jsxs)(i(),{href:`/products/${e._id}`,className:"block bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition",children:[r.jsx("div",{className:"aspect-square bg-gray-100",children:t?r.jsx("img",{src:t,alt:e.name,className:"w-full h-full object-cover"}):null}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("div",{className:"text-sm font-semibold line-clamp-2 min-h-[2.25rem]",children:e.name}),r.jsx("div",{className:"mt-2 text-gray-900 font-bold",children:s>0?`From PKR ${s}`:"Price on request"})]})]},e._id)})})]})]})})}},2628:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(5344),a=t(783),l=t.n(a);function i({items:e}){return e&&0!==e.length?r.jsx("nav",{"aria-label":"Breadcrumb",className:"mb-6",children:r.jsx("ol",{className:"flex items-center text-sm text-gray-600 flex-wrap gap-1",children:e.map((s,t)=>{let a=t===e.length-1;return(0,r.jsxs)("li",{className:"flex items-center",children:[s.href&&!a?r.jsx(l(),{href:s.href,className:"hover:text-gray-900",children:s.label}):r.jsx("span",{className:"text-gray-900 font-medium",children:s.label}),!a&&r.jsx("span",{className:"mx-2 text-gray-400",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},`${s.label}-${t}`)})})}):null}},8117:(e,s,t)=>{"use strict";t.d(s,{x:()=>l});let r=process.env.NEXT_PUBLIC_API_URL||"https://stationary-server-alpha.vercel.app/api";class a{constructor(e){this.token=null,this.baseUrl=e}async request(e,s={}){let t=`${this.baseUrl}${e}`,r={"Content-Type":"application/json",...s.headers};this.token&&(r.Authorization=`Bearer ${this.token}`);try{let e=await fetch(t,{...s,headers:r}),a=await e.json();if(!e.ok)return{error:a.error||"Request failed"};return{data:a}}catch(e){return{error:e instanceof Error?e.message:"Network error"}}}async login(e,s){let t=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:s})});return t.data,t}async register(e,s,t){let r=await this.request("/auth/register",{method:"POST",body:JSON.stringify({name:e,email:s,password:t})});return r.data,r}logout(){}async getProducts(e){let s=new URLSearchParams;e?.categoryId&&s.append("categoryId",e.categoryId),e?.search&&s.append("search",e.search),e?.page&&s.append("page",e.page.toString()),e?.limit&&s.append("limit",e.limit.toString());let t=s.toString();return this.request(`/products${t?`?${t}`:""}`)}async getProduct(e){return this.request(`/products/${e}`)}async getCategories(e){let s=e?`?parentId=${e}`:"";return this.request(`/categories${s}`)}async createOrder(e){return this.request("/orders",{method:"POST",body:JSON.stringify(e)})}async getOrders(){return this.request("/orders")}async getOrder(e){return this.request(`/orders/${e}`)}async getAddresses(){return this.request("/users/addresses")}async createAddress(e){return this.request("/users/addresses",{method:"POST",body:JSON.stringify(e)})}}let l=new a(r)},1297:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,t(6843).createProxy)(String.raw`D:\Projects\gbs\apps\web\app\products\[id]\page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[450,338],()=>t(1937));module.exports=r})();